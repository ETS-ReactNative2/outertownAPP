<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Components/Venue/VenueInfo.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Components/Venue/VenueInfo.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// import dependencies
import React, { useEffect, useState } from 'react';
import { View, Text, FlatList, Image, ScrollView } from 'react-native';
import AsyncStorage from '@react-native-async-storage/async-storage';
// import components
import ScreenWrapper from '../Common/ScreenWrapper';
import Performance from '../Performance/Performance';
import Loading from '../Common/Loading';
import VenueTitle from './VenueTitle';
// import modules
import parsePerformances from '../../Modules/parsePerformances';
import { venueImagePath } from '../../Modules/paths';
import { baseStyles } from '../../Styles/baseStyles';
import { venueStyles } from '../../Styles/venueStyles';

/**
 * @function VenueInfo :
 * React Native component for displaying information about a venue
 * @param {Navigation} param0 
 * @returns {Component}
 */
export default function VenueInfo({ route, navigation }) {
    const [venueInfo, setVenueInfo] = useState(false);
    const [performances, setPerformances] = useState(false);
    useEffect(() => {
        (async() => {
            // get local data for venues and performances
            const localVenuesData       = AsyncStorage.getItem('@venuesData');
            const localPerformancesData = AsyncStorage.getItem('@performancesData');
            let values = await Promise.all([localVenuesData, localPerformancesData]);
            // get data for just this venue
            const venueData = JSON.parse(values[0])
                .filter(venue=> venue.Name === route.params.venue.Name);
            setVenueInfo(venueData[0]);
            // get performances for just this venue, and sort in ascending chronological order
            setPerformances(parsePerformances(values[1], route.params.venue.Name));
        })();
    }, [route.params.venue.Name]);

    if (!venueInfo || !performances) {
        return (
            &lt;Loading />
            )
        }
    
    return (
        &lt;ScreenWrapper
            innerPage={true}
        >
            &lt;View style={baseStyles.contentContainer}>
                &lt;View style={venueStyles.venueDiv}>
                    &lt;VenueTitle
                        venue={venueInfo}
                    />
                    &lt;Text style={venueStyles.venueAddressText}>
                        {venueInfo.Address}
                    &lt;/Text>
                    &lt;Image
                        style={venueStyles.venueFullImage}
                        source={{uri: venueImagePath+venueInfo.VenueImg}}
                        resizeMode='contain'
                    />
                &lt;/View>
                {/* &lt;View style={venueStyles.venueDiv}>
                    &lt;Text style={venueStyles.venueInfoText}>
                        {venueInfo.Info}
                    &lt;/Text>
                &lt;/View> */}
                &lt;View style={{flex: 2, padding: '3%'}}>

                {performances.map((performance)=>&lt;Performance
                    navigation={navigation}
                    performance={performance}
                    key={performance.Id}
                />)}
                &lt;/View>
            &lt;/View>
        &lt;/ScreenWrapper>
    )
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="paths%2520_%2520%250AURL%2520paths%2520used%2520in%2520other%2520scriptsmodule_.html">paths : 
URL paths used in other scripts</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AllPerformanceHeader:ReactNativecomponentfordisplayinganinformationheaderfortheperformancesmodal">AllPerformanceHeader : 
React Native component for displaying an information header for the performances modal</a></li><li><a href="global.html#AllPerformances:ReactNativecomponentfordisplayingalistofallperformances">AllPerformances : 
React Native component for displaying a list of all performances</a></li><li><a href="global.html#App:Mainreactnativeapp">App : 
Main react native app</a></li><li><a href="global.html#BandInfo:ReactNativecomponentforshowinginformationaboutaband">BandInfo :
React Native component for showing information about a band</a></li><li><a href="global.html#getBandInfo:Retrievebandinfofromlocalstorage">getBandInfo : 
Retrieve band info from local storage</a></li><li><a href="global.html#getBandPerformance:Retrieveperformance(s)byabandfromlocalstorage">getBandPerformance : 
Retrieve performance(s) by a band from local storage</a></li><li><a href="global.html#getLiked:Retrievelikedstatusofbandfromlocalstorage">getLiked : 
Retrieve liked status of band from local storage</a></li><li><a href="global.html#handleLike:Setsupnotificationsandfeedbackonabandlikedbyauser">handleLike : 
Sets up notifications and feedback on a band liked by a user</a></li><li><a href="global.html#handleSwipe:Opensmodalwhenleftscreenswipedetectedhttps://dev.to/nrymarz/creating-a-tinder-style-swiping-component-with-react-native-part-1-2-h45">handleSwipe : 
Opens modal when left screen swipe detected
https://dev.to/nrymarz/creating-a-tinder-style-swiping-component-with-react-native-part-1-2-h45</a></li><li><a href="global.html#HideAllPerformances:ReactNativecomponentfordisplayingabuttontoclosetheperformancesmodal">HideAllPerformances : 
React Native component for displaying a button to close the performances modal</a></li><li><a href="global.html#HomeScreen:ReactNativecomponenttodisplayapplicationhomescreen">HomeScreen : 
React Native component to display application home screen</a></li><li><a href="global.html#LinkWrapper:ReactNativecomponentfordisplayingahyperlinkedchilecomponent">LinkWrapper : 
React Native component for displaying a hyperlinked chile component</a></li><li><a href="global.html#Loading:ReactNativecomponentfordisplayinganimatedscreenwhiledataisloadingasynchronously">Loading : 
React Native component for displaying animated screen while data is loading asynchronously</a></li><li><a href="global.html#NoData:ReactNativecomponentfordisplayingcontentwhenthereisnointernetconnectionandnolocallystoreddata">NoData : 
React Native component for displaying content when there is no internet connection and no locally stored data</a></li><li><a href="global.html#OTLogo:ReactNativecomponentfordisplayingfestivallogo">OTLogo : 
React Native component for displaying festival logo</a></li><li><a href="global.html#PageContainer:ReactNativecomponenttoprovideacontainerappropriatetothecurrentpage">PageContainer : 
React Native component to provide a container appropriate to the current page</a></li><li><a href="global.html#parsePerformances:Takesinputjsonstring,parsesitintoobjectforuseincomponents">parsePerformances : 
Takes input json string, parses it into object for use in components</a></li><li><a href="global.html#Performance:ReactNativecomponentfordisplayinginformationaboutaperformance">Performance :
React Native component for displaying information about a performance</a></li><li><a href="global.html#PostShowHome:ReactNativecomponenttodisplaypost-showinformationscreen">PostShowHome : 
React Native component to display post-show information screen</a></li><li><a href="global.html#prepare:Determinesdatasourcesandretrivesdataonappstartup">prepare : 
Determines data sources and retrives data on app startup</a></li><li><a href="global.html#ScreenWrapper:ReactNativecomponentprovidingatemplatewrapperforeachscreen">ScreenWrapper : 
React Native component providing a template wrapper for each screen</a></li><li><a href="global.html#SwipeHeader:ReactNativecomponenttodisplayinformationalscreenheader">SwipeHeader : 
React Native component to display informational screen header</a></li><li><a href="global.html#VenueInfo:ReactNativecomponentfordisplayinginformationaboutavenue">VenueInfo :
React Native component for displaying information about a venue</a></li><li><a href="global.html#VenueList:ReactNativecomponentfordisplayingalistofvenues">VenueList :
React Native component for displaying a list of venues</a></li><li><a href="global.html#VenueTitle:ReactNativecomponentfordisplayingavenuetitleorlogo">VenueTitle :
React Native component for displaying a venue title or logo</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Tue Feb 01 2022 11:03:14 GMT+0000 (Greenwich Mean Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
